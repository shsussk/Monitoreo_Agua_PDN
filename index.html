<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monitor de Calidad del Agua</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <h1>Monitor de Calidad del Agua</h1>
        <nav>
            <button onclick="showSection('dashboard')">Panel</button>
            <button onclick="showSection('formulario')">Formulario</button>
            <button onclick="showSection('tendencias')">Tendencias</button>
            <button onclick="showSection('alertas')">Alertas</button>
            <button onclick="showSection('configuracion')">Configuración</button>
        </nav>
    </header>

    <!-- Panel -->
    <main>
        <section id="dashboard" class="app-section">
            <h2>Estado Actual</h2>
            <div id="miniCards"></div>
        </section>

        <!-- Formulario -->
        <section id="formulario" class="app-section" style="display:none;">
            <h2>Registrar nueva medición</h2>
            <form id="waterForm">
                <label>Fecha y hora <input type="datetime-local" name="datetime" required></label>
                <label>Fuente
                  <select name="source" required>
                    <option>Canal Mayor</option>
                    <option>Drenaje Almonte</option>
                    <option>Laguna Reservorio</option>
                  </select>
                </label>
                <label>pH <input type="number" step="0.1" name="ph" min="0" max="14" required></label>
                <label>CE (µS/cm) <input type="number" name="ce" required></label>
                <label>TDS (ppm) <input type="number" name="tds" required></label>
                <label>Temperatura (°C) <input type="number" step="0.1" name="temperatura" required></label>
                <label>ORP (mV) <input type="number" name="orp" required></label>
                <label>Lluvia 15d (mm) <input type="number" step="0.1" name="lluvia" required></label>
                <label>Caudal (L/s) <input type="number" step="0.1" name="caudal" required></label>
                <label>Notas de campo <textarea name="notas" rows="2"></textarea></label>
                <button type="submit">Guardar medición</button>
            </form>
        </section>

        <!-- Tendencias -->
        <section id="tendencias" class="app-section" style="display:none;">
            <h2>Tendencias por Parámetro</h2>
            <div>
                <select id="trendSource"></select>
                <select id="trendParameter"></select>
            </div>
            <canvas id="trendChart" width="400" height="180"></canvas>
            <h3>Gráficos múltiples</h3>
            <div id="smallMultiples"></div>
        </section>

        <!-- Alertas -->
        <section id="alertas" class="app-section" style="display:none;">
            <h2>Alertas</h2>
            <div id="alertsTable"></div>
        </section>

        <!-- Configuración -->
        <section id="configuracion" class="app-section" style="display:none;">
            <h2>Umbrales de parámetros</h2>
            <form id="thresholdsForm"></form>
        </section>
    </main>

    <script src="app.js"></script>
</body>
</html>

